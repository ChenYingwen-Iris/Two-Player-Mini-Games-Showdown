# 🎮 双人游戏合集 - 使用说明

## ✨ 主要改进

### 问题1：按ENTER无法进入游戏 ✅ 已修复
- **原因**：用户在WAITING状态按的是SPACE键(32)，而不是ENTER键(13)
- **解决**：
  - 添加详细的调试日志，显示按键码
  - 改进屏幕提示："Press ENTER (Return Key)"
  - 添加无效按键警告

### 问题2：游戏未自动启动 ✅ 已修复
- **原因**：之前只是打印提示，需要手动在终端运行游戏
- **解决**：
  - 使用`subprocess.run()`自动启动子游戏
  - 自动切换到游戏目录
  - 自动管理窗口（最小化/恢复）

### 问题3：颜色箱子对应关系 ✅ 已确认
按照您的要求，颜色箱子与游戏对应关系为：
- 🟨 **Yellow (黄色)** → Counting Butterfly (数蝴蝶)
- 🟥 **Red (红色)** → Double Maze (双人迷宫)
- 🟦 **Blue (蓝色)** → Pixel Coin Collectors (硬币收集)
- 🟪 **Pink (粉色)** → Tug Of War (拔河大战)

## 🎯 完整使用流程

### 1. 启动游戏合集
```bash
cd /Users/chenyingwen/Two-Player-Mini-Games-Showdown
python3 game_launcher.py
```

### 2. 游戏界面说明
```
┌─────────────────────────────────────┐
│      GAME SHOWDOWN                  │
│                                     │
│    🟨          🟥                   │
│   数蝴蝶      双人迷宫               │
│                                     │
│         ⚡ 指针                      │
│      (旋转并停在箱子上)              │
│                                     │
│    🟦          🟪                   │
│  硬币收集     拔河大战               │
│                                     │
│  👤P1: 0           P2: 0  👤        │
│  Press SPACE to Spin                │
└─────────────────────────────────────┘
```

### 3. 操作步骤

#### 步骤1: 开始旋转 (MENU状态)
- **按键**: `SPACE` (空格键 - 键盘最下方最长的键)
- **效果**: 指针开始旋转，最终停在某个箱子上
- **调试输出**: 
  ```
  检测到按键: key=32, 当前状态=MENU
  在MENU状态下按下SPACE键
  状态变更: MENU -> SPINNING
  ```

#### 步骤2: 等待停止 (SPINNING状态)
- **自动进行**: 指针自动减速并停止
- **效果**: 显示选中的游戏
- **调试输出**: 
  ```
  旋转完成，选中游戏索引: 2
  ```

#### 步骤3: 启动游戏 (WAITING状态)
- **按键**: `ENTER` (回车键 - 键盘右侧，标有return或↵)
- **⚠️ 重要**: 不是空格键！
- **效果**: 
  1. 启动器窗口最小化
  2. 游戏窗口自动打开
  3. 可以开始玩游戏
- **调试输出**: 
  ```
  检测到按键: key=13, 当前状态=WAITING
  ✓ 按下ENTER键(13)，准备启动游戏
  状态变更: WAITING -> PLAYING
  
  ============================================================
  正在启动游戏: Counting Butterfly
  游戏路径: .../Counting-Butterfly-Two-Player-Game-fresh
  脚本文件: counting_butterfly.py
  ============================================================
  ```

#### 步骤4: 游玩游戏 (PLAYING状态)
- **自动进行**: 游戏在新窗口中运行
- **玩家操作**: 根据具体游戏的规则进行游玩
- **游戏结束**: 关闭游戏窗口或游戏自然结束

#### 步骤5: 输入结果
- **界面显示**: 
  ```
  ┌─────────────────────────────┐
  │  数蝴蝶 已结束               │
  │                             │
  │  谁赢了?                     │
  │                             │
  │  按 1 - 玩家1胜              │
  │  按 2 - 玩家2胜              │
  │  按 0 - 平局                 │
  │                             │
  │  (ESC 退出)                  │
  └─────────────────────────────┘
  ```
- **按键选择**:
  - `1` → 玩家1获胜 (+5分)
  - `2` → 玩家2获胜 (+5分)
  - `0` → 平局 (双方不加分)
  - `ESC` → 退出

#### 步骤6: 继续下一轮
- **自动返回**: 回到主菜单
- **箱子变灰**: 已玩过的游戏箱子变成灰色🔲
- **继续选择**: 重复步骤1-5，直到玩完全部4个游戏

#### 步骤7: 最终分数 (FINAL状态)
- **显示界面**:
  ```
  ┌─────────────────────────────┐
  │     FINAL SCORE             │
  │                             │
  │  Player 1: 15               │
  │  Player 2: 10               │
  │                             │
  │  PLAYER 1 WINS!             │
  │                             │
  │  Press ESC to Exit          │
  └─────────────────────────────┘
  ```
- **按键**: `ESC` 退出游戏

## 🔑 按键速查表

| 状态 | 按键 | 键位说明 | 作用 |
|-----|------|---------|------|
| MENU | `SPACE` | 空格键 (最下方最长的键) | 开始旋转轮盘 |
| WAITING | `ENTER` | 回车键 (右侧，标有return/↵) | 启动选中的游戏 |
| 结果输入 | `1` | 数字1 | 玩家1获胜 |
| 结果输入 | `2` | 数字2 | 玩家2获胜 |
| 结果输入 | `0` | 数字0 | 平局 |
| FINAL | `ESC` | 退出键 (左上角) | 退出游戏 |

## 🐛 常见问题

### Q1: 按ENTER没反应？
**A**: 请确认：
1. 当前状态是WAITING（轮盘已停止）
2. 按的是ENTER键(回车键)，不是SPACE键
3. 查看终端输出，应显示`key=13`而不是`key=32`

**如何区分两个键**:
- SPACE: 键盘最下方，横向很长的键
- ENTER: 键盘右侧，标有"return"或"↵"符号

### Q2: 游戏窗口没有打开？
**A**: 检查：
1. 终端是否显示错误信息
2. 游戏文件是否存在（运行`python3 test_game_paths.py`验证）
3. 启动器窗口是否最小化到dock

### Q3: 游戏启动后报错？
**A**: 这是游戏本身的问题，不是启动器的问题：
1. 查看终端的详细错误信息
2. 确认游戏资源文件完整
3. 仍可以手动输入游戏结果继续流程

### Q4: 如何重新开始？
**A**: 
1. 方法1: 等到FINAL界面后按ESC退出，然后重新运行`python3 game_launcher.py`
2. 方法2: 直接关闭窗口，重新启动

## 📁 项目文件说明

```
Two-Player-Mini-Games-Showdown/
├── game_launcher.py          # ⭐ 主程序（运行这个）
├── test_game_paths.py        # 🔧 路径测试工具
├── CONTROLS.md               # 📖 按键说明
├── GAME_LAUNCH_GUIDE.md      # 📖 启动指南
├── UPDATE_LOG.md             # 📝 更新日志
├── README_FINAL.md           # 📖 本文件
├── *.png                     # 🎨 箱子图片
└── 游戏文件夹/                # 🎮 四个子游戏
```

## 🎮 四个游戏简介

### 🟨 Counting Butterfly (数蝴蝶)
- **类型**: 反应速度游戏
- **玩法**: 数飞过的蝴蝶数量
- **文件夹**: `Counting-Butterfly-Two-Player-Game-fresh/`

### 🟥 Double Maze (双人迷宫)
- **类型**: 竞速游戏
- **玩法**: 比谁先走出迷宫
- **文件夹**: `Double-Maze/`

### 🟦 Pixel Coin Collectors (硬币收集)
- **类型**: 收集游戏
- **玩法**: 收集硬币，比拼分数
- **文件夹**: `pixel-coin-collectors/`

### 🟪 Tug Of War (拔河大战)
- **类型**: 对抗游戏
- **玩法**: 按键拔河
- **文件夹**: `Tug-Of-War-Game/`

## 🏆 积分规则

- 每局获胜: **+5分**
- 平局: **0分**
- 最终比较总分，分高者获胜

## 💡 使用建议

1. **全屏游玩**: 某些游戏可能需要全屏才能看清
2. **关闭干扰**: 关闭其他应用避免窗口切换混乱
3. **记录分数**: 虽然系统自动记录，建议纸质备份
4. **公平竞技**: 确保两位玩家都熟悉游戏规则

## 🔍 验证安装

运行路径测试工具：
```bash
python3 test_game_paths.py
```

应该看到：
```
✅ 所有游戏路径验证通过！
```

## 📞 技术支持

如果遇到问题：
1. 查看终端输出的调试信息
2. 检查`test_game_paths.py`的验证结果
3. 阅读相关文档：
   - CONTROLS.md - 按键说明
   - GAME_LAUNCH_GUIDE.md - 详细指南
   - UPDATE_LOG.md - 更新记录

---

**祝您游戏愉快！🎉**
